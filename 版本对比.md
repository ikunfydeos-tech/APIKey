# 开源版与托管服务版对比

本文档说明 API Key Manager 开源版与托管服务版的差异。

---

## 功能对比

| 功能 | 开源版（自托管） | 托管服务（免费版） | 托管服务（Pro版） |
|------|:---------------:|:-----------------:|:----------------:|
| **核心功能** |  |  |  |
| API 密钥存储 | ✅ | ✅ | ✅ |
| AES-256 加密 | ✅ | ✅ | ✅ |
| 一键复制密钥 | ✅ | ✅ | ✅ |
| 连接测试 | ✅ | ✅ | ✅ |
| 模型预设 | ✅ | ✅ | ✅ |
| 自定义服务商 | ✅ | ❌ | ✅ |
| **用户系统** |  |  |  |
| 用户注册/登录 | ✅ | ✅ | ✅ |
| TOTP 双因素认证 | ✅ | ✅ | ✅ |
| 操作日��� | ✅ | ✅ | ✅ |
| **密钥管理** |  |  |  |
| 密钥数量限制 | 🔧 可自定义 | 10 个 | 无限 |
| 密钥分类 | ✅ | ✅ | ✅ |
| 密钥状态管理 | ✅ | ✅ | ✅ |
| **支付功能** |  |  |  |
| 爱发电支付集成 | 🔧 需自行配置 | ✅ | ✅ |
| 会员等级系统 | 🔧 可自定义 | ✅ | ✅ |
| 自动续费提醒 | 🔧 需自行配置 | ✅ | ✅ |
| **运维相关** |  |  |  |
| 自动备份 | 🔧 需自行配置 | ❌ | ✅ 每日 |
| 数据导出 | ✅ | ✅ | ✅ |
| 系统监控 | 🔧 需自行配置 | ✅ | ✅ |
| 技术支持 | 社区支持 | 邮件支持 | 优先支持 |

> 🔧 = 功能存在，但需要自行配置

---

## 开源版优势

### 完全掌控数据
- 所有数据存储在你自己的服务器上
- 完全掌控加密密钥
- 符合企业数据合规要求

### 自定义配置
- 修改密钥数量限制
- 调整会员等级规则
- 集成自己的支付系统
- 自定义 UI 和功能

### 无使用限制
- 无用户数限制
- 无密钥数量限制（可配置）
- 无流量限制

### 学习与定制
- 完整源代码可学习
- 可二次开发
- 可贡献代码

---

## 托管服务优势

### 开箱即用
- 无需服务器运维
- 无需数据库管理
- 无需配置 SSL 证书
- 注册即用

### 持续更新
- 自动安全更新
- 新功能优先体验
- Bug 快速修复

### 专业运维
- 7x24 系统监控
- 自动数据备份
- 灾难恢复机制

### 技术支持
- 专人技术支持
- 快速响应问题
- 使用指导

---

## 适用场景

### 适合开源版（自托管）

- 企业内部使用，有数据合规要求
- 有服务器运维经验
- 需要深度定制功能
- 想学习完整项目架构
- 预算有限，愿意投入时间

### 适合托管服务

- 个人开发者，不想折腾
- 快速验证想法
- 没有服务器运维经验
- 需要稳定可靠的服务
- 想要专业技术支持

---

## 开源版配置说明

### 密钥数量限制配置

在 `backend/routers/keys.py` 中修改：

```python
MEMBERSHIP_KEY_LIMITS = {
    "free": 10,      # 修改为你想要的限制
    "basic": 50,
    "pro": None,     # None 表示无限制
}
```

### 支付集成配置

在 `.env` 文件中添加：

```bash
# 爱发电支付配置（可选）
AFDIAN_TOKEN=your_afdian_token
AFDIAN_USER_ID=your_afdian_user_id
```

### 会员等级配置

在 `backend/models.py` 中已定义三级会员：

```python
membership_tier = Column(String(20), default="free")
# 可选值: free, basic, pro
```

---

## 数据迁移

### 从托管服务迁移到自托管

1. 在托管服务中导出数据（JSON 格式）
2. 部署开源版
3. 导入数据到自托管实例
4. 删除托管服务账户

### 从自托管迁移到托管服务

1. 导出自托管数据库
2. 联系支持团队协助导入
3. 验证数据完整性

---

## 常见问题

### Q: 开源版功能更少吗？

A: 不是。开源版功能完整，只是部分功能需要自行配置。

### Q: 可以商用吗？

A: 可以。MIT 协议允许商业使用。

### Q: 托管服务的数据安全吗？

A: 采用与开源版相同的加密技术，数据加密存储，管理员也无法查看密钥原文。

### Q: 开源版有技术支持吗？

A: 通过 GitHub Issues 提交问题，社区会尽力帮助。托管服务用户享有优先支持。

---

## 价格说明

| 版本 | 价格 |
|------|------|
| 开源版（自托管） | 免费 |
| 托管服务 - 免费版 | ¥0/月 |
| 托管服务 - Pro版 | ¥19/月 |

---

## 选择建议

| 你的情况 | 推荐版本 |
|---------|---------|
| 企业内部部署 | 开源版 |
| 个人学习使用 | 开源版 |
| 快速上手，不想运维 | 托管服务 |
| 需要稳定服务支持 | 托管服务 Pro |

---

如有其他问题，欢迎通过以下方式联系：

- GitHub Issues: https://github.com/ikunfydeos-tech/APIKey/issues
- 邮箱: ikunfydeos@163.com
